<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <button type="button" routerLink="/dashboard" class="btn btn-outline-info float-right"><fa-icon [icon]="faArrowAltCircleLeft"></fa-icon></button>
                <br>
                <form [formGroup]="dynamicForm" novalidate>
                    <div class="form-body">
                        <h4 class="header-h3">Datos Personales</h4>
                        <div formGroupName="data" class="row">
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="nombre" id="nombre" type="text" pInputText>
                                    <label for="nombre">Nombre</label>
                                </span>
                                <small style="color: red;" *ngIf="(dynamicForm.controls.data.get('nombre').touched || dynamicForm.controls.data.get('nombre').dirty ) &&
                                !dynamicForm.controls.data.get('nombre').valid">Este campo es requerido *</small>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="apellidoP" id="apellidoP" type="text" pInputText>
                                    <label for="apellidoP">Apelido Paterno</label>
                                </span>
                                <small style="color: red;" *ngIf="(dynamicForm.controls.data.get('apellidoP').touched || dynamicForm.controls.data.get('apellidoP').dirty ) &&
                                !dynamicForm.controls.data.get('apellidoP').valid">Este campo es requerido *</small>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="apellidoM" id="apellidoM" type="text" pInputText>
                                    <label for="apellidoM">Apellido Materno</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-dropdown [style]="{'width':'100%'}" [options]="estatusGeneral" optionLabel="nombre" datakey="_id" formControlName="estatus"></p-dropdown>
                                    <label for="estatus">Seleccionar estatus</label>
                                </span>
                            </div>
                        </div>
                        <div formGroupName="data" class="row">
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="correo" id="correo" type="text" pInputText>
                                    <label for="correo">Correo</label>
                                </span>
                                <small style="color: red;" *ngIf="(dynamicForm.controls.data.get('correo').touched || dynamicForm.controls.data.get('correo').dirty ) &&
                                !dynamicForm.controls.data.get('correo').valid">Correo no tiene formato valido *</small>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="contrasena" id="contrasena" type="text" pInputText>
                                    <label for="contrasena">contrasena</label>
                                </span>
                                <small style="color: red;" *ngIf="(dynamicForm.controls.data.get('contrasena').touched || dynamicForm.controls.data.get('contrasena').dirty ) &&
                                !dynamicForm.controls.data.get('contrasena').valid">Este campo es requerido *</small>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaNacimiento" formControlName="fechaNacimiento"></p-calendar>
                                    <label [style]="{'width':'100%'}" for="fechaNacimiento">Fecha Nacimiento</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <!-- <input class="col-md-12" formControlName="telefono" id="telefono" type="text" pInputText> -->
                                    <p-inputMask [style]="{'width':'100%'}" formControlName="telefono" id="telefono" mask="999-999-9999"></p-inputMask>
                                    <label for="telefono">Telefono</label>
                                </span>
                                <small style="color: red;" *ngIf="(dynamicForm.controls.data.get('telefono').touched || dynamicForm.controls.data.get('telefono').dirty ) &&
                                !dynamicForm.controls.data.get('telefono').valid">Este campo es requerido *</small>
                            </div>
                        </div>
                        <h4 class="header-h3">Datos Pasaporte</h4>
                        <div formGroupName="data" class="row">
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <!-- <input class="col-md-12" formControlName="noPasaporte" id="noPasaporte" type="text" pInputText> -->
                                    <p-inputMask [style]="{'width':'100%'}" formControlName="noPasaporte" id="noPasaporte" mask="999999999"></p-inputMask>
                                    <label for="noPasaporte">No. pasaporte</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaVencimiento" formControlName="fechaVencimiento"></p-calendar>
                                    <label [style]="{'width':'100%'}" for="fechaVencimiento">Fecha vencimiento</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaExpedicion" formControlName="fechaExpedicion"></p-calendar>
                                    <label [style]="{'width':'100%'}" for="fechaExpedicion">Fecha expedicion</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <input class="col-md-12" formControlName="ciudadExpedicion" id="ciudadExpedicion" type="text" pInputText>
                                    <label for="ciudadExpedicion">Ciudad de expedicion</label>
                                </span>
                            </div>
                        </div>
                        <h4 class="header-h3">Datos Visa</h4>
                        <div formGroupName="data" class="row">
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <!-- <input class="col-md-12" formControlName="ds160" id="ds160" type="text" pInputText> -->
                                    <p-inputMask [style]="{'width':'100%'}" formControlName="ds160" id="ds160" mask="9999999999"></p-inputMask>
                                    <label for="ds160">No. DS160</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-dropdown [style]="{'width':'100%'}" [options]="estatusVisa" optionLabel="nombre" datakey="_id" formControlName="estatusVisa"></p-dropdown>
                                    <label for="estatusVisa">Seleccionar estatus visa</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaCAS" formControlName="fechaCAS"></p-calendar>
                                    <label [style]="{'width':'100%'}" for="fechaCAS">Cita CAS</label>
                                </span>
                            </div>
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaConsulado" formControlName="fechaConsulado"></p-calendar>
                                    <label [style]="{'width':'100%'}" for="fechaConsulado">Cita consulado</label>
                                </span>
                            </div>
                        </div>
                        <div formGroupName="data" class="row">
                            <div  class="form-group col-md-3">
                                <span class="ui-float-label">
                                    <p-dropdown [style]="{'width':'100%'}" [options]="consulado" optionLabel="nombre" datakey="_id" formControlName="consulado"></p-dropdown>
                                    <label for="consulado">Seleccionar consulado</label>
                                </span>
                            </div>
                        </div>
                        <br>
                    </div>
                    <div *ngFor="let cliente of c.controls; let i = index" class="list-group list-group-flush">
                        <div class="form-body">
                            <div [formGroup]="cliente" class="row">
                                <div class="row col-md-12 m-0">
                                    <hr style="height: 5px; color: grey; width: 100%;">
                                </div>
                                <h4 class="header-h3 ml-4">Datos Personales</h4>
                                <br><br>
                                <div class="row col-md-12 m-0">
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="nombre" id="nombre" type="text" pInputText>
                                            <label for="nombre">Nombre</label>
                                        </span>
                                        <small style="color: red;" *ngIf="(cliente.get('nombre').touched || cliente.get('nombre').dirty ) &&
                                        !cliente.get('nombre').valid">Este campo es requerido *</small>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="apellidoP" id="apellidoP" type="text" pInputText>
                                            <label for="apellidoP">Apellido Paterno</label>
                                        </span>
                                        <small style="color: red;" *ngIf="(cliente.get('apellidoP').touched || cliente.get('apellidoP').dirty ) &&
                                        !cliente.get('apellidoP').valid">Este campo es requerido *</small>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="apellidoM" id="apellidoM" type="text" pInputText>
                                            <label for="apellidoM">Apellido Materno</label>
                                        </span>
                                    </div>                                    
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-dropdown [style]="{'width':'100%'}" [options]="estatusGeneral" optionLabel="nombre" datakey="_id" formControlName="estatus"></p-dropdown>
                                            <label for="estatus">Seleccionar estatus</label>
                                        </span>
                                    </div>
                                </div>
                                <div class="row col-md-12 m-0">
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="correo" id="correo" type="text" pInputText>
                                            <label for="correo">Correo</label>
                                        </span>
                                        <small style="color: red;" *ngIf="(cliente.get('correo').touched || cliente.get('correo').dirty ) &&
                                        !cliente.get('correo').valid">Este campo es requerido *</small>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="contrasena" id="contrasena" type="text" pInputText>
                                            <label for="contrasena">contrasena</label>
                                        </span>
                                        <small style="color: red;" *ngIf="(cliente.get('contrasena').touched || cliente.get('contrasena').dirty ) &&
                                        !cliente.get('contrasena').valid">Este campo es requerido *</small>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaNacimiento" formControlName="fechaNacimiento"></p-calendar>
                                            <label [style]="{'width':'100%'}" for="fechaNacimiento">Fecha Nacimiento</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <!-- <input class="col-md-12" formControlName="telefono" id="telefono" type="text" pInputText> -->
                                            <p-inputMask [style]="{'width':'100%'}" formControlName="telefono" id="telefono" mask="999-999-9999"></p-inputMask>
                                            <label for="telefono">Telefono</label>
                                        </span>
                                        <small style="color: red;" *ngIf="(cliente.get('telefono').touched || cliente.get('telefono').dirty ) &&
                                        !cliente.get('telefono').valid">Este campo es requerido *</small>
                                    </div>
                                </div>
                                <h4 class="header-h3 ml-4">Datos Pasaporte</h4>
                                <br><br>
                                <div class="row col-md-12 m-0">
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <!-- <input class="col-md-12" formControlName="noPasaporte" id="noPasaporte" type="text" pInputText> -->
                                            <p-inputMask [style]="{'width':'100%'}" formControlName="noPasaporte" id="noPasaporte" mask="999999999"></p-inputMask>
                                            <label for="noPasaporte">No. pasaporte</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaCitaPasaporte" formControlName="fechaCitaPasaporte"></p-calendar>
                                            <label [style]="{'width':'100%'}" for="fechaCitaPasaporte">Fecha cita pasaporte</label>
                                        </span>
                                    </div>                                    
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaExpedicion" formControlName="fechaExpedicion"></p-calendar>
                                            <label [style]="{'width':'100%'}" for="fechaExpedicion">Fecha expedicion</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <input class="col-md-12" formControlName="ciudadExpedicion" id="ciudadExpedicion" type="text" pInputText>
                                            <label for="ciudadExpedicion">Ciudad de expedicion</label>
                                        </span>
                                    </div>
                                </div>
                                <h4 class="header-h3 ml-4">Datos visa</h4>
                                <br><br>
                                <div class="row col-md-12 m-0">
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <!-- <input class="col-md-12" formControlName="ds160" id="ds160" type="text" pInputText> -->
                                            <p-inputMask [style]="{'width':'100%'}" formControlName="ds160" id="ds160" mask="9999999999"></p-inputMask>
                                            <label for="ds160">No. DS160</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-dropdown [style]="{'width':'100%'}" [options]="estatusVisa" optionLabel="nombre" datakey="_id" formControlName="estatusVisa"></p-dropdown>
                                            <label for="estatusVisa">Seleccionar estatus visa</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaCAS" formControlName="fechaCAS"></p-calendar>
                                            <label [style]="{'width':'100%'}" for="fechaCAS">Cita CAS</label>
                                        </span>
                                    </div>
                                    <div  class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-calendar [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}" [showButtonBar]="true" [maxDate]="maxDate" id="fechaConsulado" formControlName="fechaConsulado"></p-calendar>
                                            <label [style]="{'width':'100%'}" for="fechaConsulado">Cita consulado</label>
                                        </span>
                                    </div>
                                </div>
                                <div class="row col-md-12 m-0">
                                    <div class="form-group col-md-3">
                                        <span class="ui-float-label">
                                            <p-dropdown [style]="{'width':'100%'}" [options]="consulado" optionLabel="nombre" datakey="_id" formControlName="consulado"></p-dropdown>
                                            <label for="consulado">Seleccionar consulado</label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <button type="button" (click)="eliminar(i)" class="btn btn-outline-danger float-right"><fa-icon [icon]="faTrash"></fa-icon></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-end mt-2">
                        <h4 class="header-h3 mt-2">
                            Total a pagar: {{ (this.total * this.totalService) | currency}}
                        </h4>
                        <div formGroupName="data"  class="form-group col-3">
                            <span class="ui-float-label">
                                <input class="col-md-12" formControlName="importeRecibido" id="importeRecibido" type="text" pInputText>
                                <label for="importeRecibido">Importe recibido:</label>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <button type="button" (click)="save()" class="btn btn-outline-success float-right mt-3 ml-2"><fa-icon [icon]="faSave"></fa-icon> {{ textBoton }}</button>
                            <button type="button" (click)="agregar()" class="btn btn-outline-info float-right mt-3 mr-2"><fa-icon [icon]="faAdd"></fa-icon> Agregar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
